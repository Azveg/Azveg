<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://bestpractices.netlify.app/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://bestpractices.netlify.app/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://bestpractices.netlify.app/css/github.min.css' />
    <link rel="stylesheet" href='https://bestpractices.netlify.app/css/github-style.css' />
    <link rel="stylesheet" href='https://bestpractices.netlify.app/css/light.css' />
    <link rel="stylesheet" href='https://bestpractices.netlify.app/css/dark.css' />
    <link rel="stylesheet" href='https://bestpractices.netlify.app/css/syntax.css' />
    <title>UpSet диаграммы - Best Practices IT</title>
    
    <link rel="icon" type="image/x-icon" href='https://bestpractices.netlify.app/images/favicon.ico'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="Построение диаграмм пересечения множеств с помощью пакета UpSet как альтернатива или развитие диаграмм Вена" />
<meta name="keywords"
  content='UpSet, Heatmap' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://bestpractices.netlify.app/post/2022-07-01-upset/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="UpSet диаграммы - Best Practices IT" />
<meta name="twitter:description"
  content="Построение диаграмм пересечения множеств с помощью пакета UpSet как альтернатива или развитие диаграмм Вена" />
<meta name="twitter:site" content="https://bestpractices.netlify.app/" />
<meta name="twitter:creator" content="Best Practices IT" />
<meta name="twitter:image"
  content="https://bestpractices.netlify.app/">


<meta property="og:type" content="article" />
<meta property="og:title" content="UpSet диаграммы - Best Practices IT">
<meta property="og:description"
  content="Построение диаграмм пересечения множеств с помощью пакета UpSet как альтернатива или развитие диаграмм Вена" />
<meta property="og:url" content="https://bestpractices.netlify.app/post/2022-07-01-upset/" />
<meta property="og:site_name" content="UpSet диаграммы" />
<meta property="og:image"
  content="https://bestpractices.netlify.app/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2022-07-01 00:00:00 &#43;0000 UTC" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://bestpractices.netlify.app/">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://bestpractices.netlify.app/">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://bestpractices.netlify.app/">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://bestpractices.netlify.app/">
                  <img class=" avatar-user"
                    src="https://bestpractices.netlify.app/images/avatar.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://bestpractices.netlify.app/"></a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://bestpractices.netlify.app/post/2022-07-01-upset/">UpSet диаграммы</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Fri, 01 Jul 2022 00:00:00 &#43;0000"
                    class="no-wrap">
                    Fri, 01 Jul 2022 00:00:00 &#43;0000</relative-time>

                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      2635 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/upset">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      UpSet
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/r">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      R
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg">


<p>Пакет UpSet визуализирует пересечения комбинаций значений атрибутов в наборе данных. Значения атрибутов называются наборами, а комбинация значений нескольких атрибутов - наборами комбинаций.</p>
<p>Прежде чем перейти к основным примерам построения графиков, разберем матрицу комбинаций.</p>
<div id="матрица-комбинаций" class="section level3">
<h3>Матрица комбинаций</h3>
<p>Матрицу комбинаций можно составить из:</p>
<ul>
<li>списка, содержащего несколько векторов</li>
<li>двоичной матрицы или фрейма данных, где строки являются элементами, а столбцы - наборами</li>
<li>если переменная является фреймом данных, сохраняются только двоичные столбцы (содержащие только 0 и 1) и логические столбцы.</li>
</ul>
<p>Для простоты создадим список содержащий два вектора разных размеров и преобразуем его к матрице, чтобы посмотреть полученные комбинации</p>
<pre class="r"><code>ls &lt;- list(set1 = c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), set2 = c(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;))
list_to_matrix(ls)</code></pre>
<pre><code>##   set1 set2
## a    1    0
## b    1    1
## c    1    1
## d    0    1
## e    0    1</code></pre>
<p>В полученной матрице наборы set1 (размер вектора 3 элемента) и set2 (размер вектора 4 элемента) образуют 5 комбинаций, давайте их перечислим</p>
<ul>
<li><strong>a</strong> - есть только в наборе set1</li>
<li><strong>b</strong> - есть в обоих наборах</li>
<li><strong>c</strong> - есть в обоих наборах</li>
<li><strong>d</strong> - есть только в наборе set2</li>
<li><strong>e</strong> - есть только в наборе set2</li>
</ul>
<p>Итого:</p>
<ul>
<li>комбинаций, которые есть только в наборе set1 - 1 шт</li>
<li>комбинаций, которые есть в наборе set1 и set2 - 2 шт</li>
<li>комбинаций, которые есть только в наборе set2 - 2 шт</li>
</ul>
<p>На графике это количество комбинаций или пересечений отображается как <strong><em>Intersection size</em></strong>, а длины векторов или наборы в матрице как <strong><em>Set size</em></strong>.</p>
<p>Теперь создадим матрицу комбинаций функцией make_comb_mat.</p>
<p>У функции <code>make_comb_mat</code> есть три режима работы:</p>
<ul>
<li><p><em>distinct</em> (по умолчанию)</p></li>
<li><p><em>intersect</em></p></li>
<li><p><em>union mode</em></p></li>
</ul>
<p>Как режимы влияют на пересечение наборов показано на рисунке ниже, а влияние на графиках разберем ниже.</p>
<div style="display: flex; align-items: center; justify-content: center;">
<p><a href="https://jokergoo.github.io/ComplexHeatmap-reference/book/upset-plot.html#upset-mode"><img src="unnamed-chunk-7-1.png" style="margin: 0 auto;" width="341" alt="Режимы функции" /></a></p>
</div>
</div>
<div id="строим-первый-график" class="section level3">
<h3>Строим первый график</h3>
<p>После того как матрица комбинаций готова построим график. По умолчанию наборы упорядочены по размеру, а наборы комбинаций упорядочены по степени (количеству выбранных наборов).</p>
<pre class="r"><code>UpSet(mx)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Матрицу комбинаций, отфильтрованную по подмножествам, также можно визуализировать.</p>
<pre class="r"><code>UpSet(mx[comb_size(mx) &gt;= 2])
UpSet(mx[comb_degree(mx) == 1])</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-5-1.png" width="50%" /><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-5-2.png" width="50%" /></p>
<p>Когда мы научились визуализировать матрицу комбинаций сравним различные режимы в <code>make_comb_mat()</code>.
В зависимости от выбраного режима изменяется количество комбинаций наборов.</p>
<pre class="r"><code>m1 = make_comb_mat(ls) # the default mode is `distinct`
m2 = make_comb_mat(ls, mode = &quot;intersect&quot;)
m3 = make_comb_mat(ls, mode = &quot;union&quot;)
UpSet(m1, column_title = &quot;distinct mode&quot;, row_title = &quot;distinct mode&quot;) # добавить подписи к графикам
UpSet(m2)
UpSet(m3)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-6-1.png" width="33.3333%" /><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-6-2.png" width="33.3333%" /><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-6-3.png" width="33.3333%" /></p>
<p>Матрица комбинаций может быть дополнена</p>
<p>Для чего её дополнять????</p>
<p>Для графика, содержащего набор дополнений, есть один дополнительный столбец, показывающий, что этот набор дополнений не перекрывается ни с одним из наборов (все точки выделены серым цветом).</p>
<pre class="r"><code>m2 = make_comb_mat(ls, universal_set = letters)
UpSet(m2)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Помните, что если вы уже знаете размер для набора дополнений, вы можете напрямую назначить его с помощью аргумента complement_size в make_comb_mat().</p>
<pre class="r"><code>m2 = make_comb_mat(ls, complement_size = 10)
UpSet(m2)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Для случая, когда универсальное множество меньше, чем объединение всех множеств:</p>
<pre class="r"><code>m2 = make_comb_mat(ls, universal_set = letters[1:10])
UpSet(m2)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>В некоторых случаях у вас может быть набор дополнений, но вы не хотите его показывать, особенно когда входные данные для make_comb_mat() представляют собой матрицу, которая уже содержит набор дополнений, вы можете фильтровать по степеням комбинации.</p>
<pre class="r"><code>x = list_to_matrix(ls, universal_set = letters)
m2 = make_comb_mat(x)
m2 = m2[comb_degree(m2) &gt; 0]
UpSet(m2)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="форматирование-графика" class="section level3">
<h3>Форматирование графика</h3>
<div id="сортировка" class="section level4">
<h4>Сортировка</h4>
<p>За сортировку отвечают атрибуты set_order и comb_order</p>
<p>Сортировку <code>Set size</code> можно задать несколькими способами:</p>
<ul>
<li><p><code>set_order = c("set1", "set2")</code></p></li>
<li><p>задать вектор с порядком наборов</p></li>
<li><p><code>set_order = order(set_size(mx))</code> - сортировать по абсолютным величинам</p></li>
</ul>
<p>Функции <code>set_size</code> и <code>comb_size</code> возвращают вектор с размерами наборов и комбинаций</p>
<pre class="r"><code>UpSet(mx, set_order = order(set_size(mx)), comb_order = order(comb_size(mx)))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="форматирование-графика-комбинаций" class="section level4">
<h4>Форматирование графика комбинаций</h4>
<p>Цвет точек, размер точек и ширина линий сегментов контролируются pt_size, comb_col и lwd.</p>
<p>График можно форматировать следующим образом:</p>
<ul>
<li>pt_size - размер точек комбинаций наборов</li>
<li>lwd - толщина линии соединяющей точки комбинаций</li>
<li>comb_col - цвет точек, представляющих наборы комбинаций
<ul>
<li>comb_degree - возвращает вектор целых чисел, мы просто используем его в качестве индекса для вектора цвета.</li>
</ul></li>
<li>bg_col - цвет фона строки набора в комбинациях, можно задать только для нечетных или для нечетных и четных строк
<ul>
<li><code>bg_col = "#F0F0FF"</code></li>
<li><code>bg_col = c("#F0F0FF", "#FFF0F0")</code></li>
</ul></li>
<li>bg_pt_col - цвет точек, представляющих наборы комбинаций, которые неактивны</li>
</ul>
<pre class="r"><code>UpSet(mx, 
      pt_size = unit(4, &quot;mm&quot;),
      lwd = 2,
      comb_col = c(&quot;red&quot;, &quot;blue&quot;, &quot;black&quot;)[comb_degree(mx)]
      )
UpSet(mx, comb_col = &quot;#0000FF&quot;, bg_col = &quot;#F0F0FF&quot;, bg_pt_col = &quot;black&quot;)
UpSet(mx, comb_col = &quot;#0000FF&quot;, bg_col = c(&quot;#F0F0FF&quot;, &quot;#FFF0F0&quot;), bg_pt_col = &quot;#CCCCFF&quot;)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-12-1.png" width="33.3333%" /><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-12-2.png" width="33.3333%" /><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-12-3.png" width="33.3333%" /></p>
<p>Транспонирование матрицы комбинаций преобразует наборы в столбцы, а наборы комбинаций - в строки. Для лучшего представления так можно “перевернуть” график.</p>
<pre class="r"><code>UpSet(t(mx))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
</div>
<div id="расширенное-форматирование-графиков-upset" class="section level3">
<h3>Расширенное форматирование графиков UpSet</h3>
<p>Графики UpSet наследуют методы от класса Heatmap, поэтому для расширенного форматирования использум методы этого класса.</p>
<p>Так как основой графика является матрица комбинаций, размеры которой отображены в виде гистограммы, то эти визуализации можно форматировать как тепловую карту с помощью HeatmapAnnotation и announce_barplot с некоторыми предварительно заданными параметрами.</p>
<p>Есть три типа форматов:</p>
<ul>
<li>top_annotation - по умолчанию представляет собой столбчатую диаграмму, показывающую размер каждого набора комбинаций</li>
<li>left_annotation/right_annotation - по умолчанию представляет собой столбчатую диаграмму, показывающую размер наборов</li>
</ul>
<p><code>upset_top_annotation</code> - реализует методы anno_barplot для верхней части графика
gp - задает графические параметры баров
gp содержит объект класса gpar, который содержит параметры в виде ключ-значение</p>
<p>Объект gpar имеет следующие параметры:</p>
<pre class="r"><code>UpSet(mx, 
      top_annotation = upset_top_annotation(mx, 
        gp = gpar(
          col = comb_degree(mx), # цвет линий и границ бара
          fill = &quot;green&quot;,        # цвет бара
          alpha = 0.9,           # прозрачность бара
          lty = &quot;solid&quot;,         # тип линии
          lwd = 3,               # ширина линии
          lex = 0.9,             # Множитель, применяемый к ширине линии
          lineend = &quot;round&quot;,     # Стиль окончания линии (круглый, торцевой, квадратный)
          linejoin = &quot;mitre&quot;,    # Стиль соединения линий (круглый, митра, скос)
          fontsize = 16         # размер шрифта
          #cex = 1,               # множитель размера шрифта
          #fontfamily            # шрифт
          #fontface = &quot;bold&quot;,     # стиль шрифта
          #lineheight            # Высота строки, кратная размеру текста
          )
    )
    )</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div id="управление-диапозонами-данных-и-осями" class="section level4">
<h4>Управление диапозонами данных и осями</h4>
<pre class="r"><code>UpSet(mx, top_annotation = upset_top_annotation(mx, 
    ylim = c(0, 3), # масштаб оси
    bar_width = 1,  # ширина баров
    axis_param = list(side = &quot;right&quot;, at = c(0, 1, 2, 3), # позиция и значения оси
        labels = c(&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;)         # метки оси
        )))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
<div id="управление-названием-оси-и-метками" class="section level4">
<h4>Управление названием оси и метками</h4>
<pre class="r"><code>UpSet(mx, top_annotation = upset_top_annotation(mx, 
    annotation_name_rot = 90, # Угол поворота имени оси
    annotation_name_side = &quot;right&quot;, # позиция имени оси
    axis_param = list(side = &quot;right&quot;) # позиция оси 
    ))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="настройка-правой-анотации" class="section level4">
<h4>Настройка правой анотации</h4>
<pre class="r"><code>UpSet(mx, right_annotation = upset_right_annotation(mx, 
    ylim = c(0, 5), # масштаб оси
    gp = gpar(fill = &quot;green&quot;),
    annotation_name_side = &quot;top&quot;,
    axis_param = list(side = &quot;top&quot;)))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Если помимо стандартных анотаций графика нужно добавить дополнительные, то необходимо создать объект <code>HeatmapAnnotation</code></p>
<pre class="r"><code>UpSet(mx, top_annotation = HeatmapAnnotation(
    degree = as.character(comb_degree(mx)),
    &quot;Intersection\nsize&quot; = anno_barplot(comb_size(mx), 
        border = FALSE, 
        gp = gpar(fill = &quot;black&quot;), 
        height = unit(2, &quot;cm&quot;)
    ), 
    annotation_name_side = &quot;left&quot;, 
    annotation_name_rot = 0))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<pre class="r"><code>UpSet(mx, right_annotation = rowAnnotation(
    &quot;Set size&quot; = anno_barplot(set_size(mx), 
        border = FALSE, 
        gp = gpar(fill = &quot;black&quot;), 
        width = unit(2, &quot;cm&quot;)
    ),
    group = c(&quot;group1&quot;, &quot;group2&quot;)))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>Чтобы переместить правую аннотацию влево от комбинированной матрицы, используйте upset_left_annotation()</p>
<pre class="r"><code>UpSet(mx, left_annotation = upset_left_annotation(mx))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="добавление-меток-данных" class="section level4">
<h4>Добавление меток данных</h4>
<pre class="r"><code>UpSet(mx, top_annotation = upset_top_annotation(mx, add_numbers = TRUE),
    right_annotation = upset_right_annotation(mx, add_numbers = TRUE))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
</div>
<div id="добовление-тепловых-карт-на-график" class="section level3">
<h3>Добовление тепловых карт на график</h3>
<p>Объект возращаемый функцией UpSet() является объектом класса Heatmap, поэтому к нему можно добавлять тепловые карты и анотации.</p>
<pre class="r"><code>ht &lt;- UpSet(mx)
ht + Heatmap(1:2, name = &quot;foo&quot;, width = unit(5, &quot;mm&quot;)) + 
    rowAnnotation(bar = anno_points(1:2))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<pre class="r"><code>ht %v%
  Heatmap(rbind(1:3), name = &quot;foo&quot;, row_names_side = &quot;left&quot;, height = unit(5, &quot;mm&quot;)) %v% 
      HeatmapAnnotation(bar = anno_points(1:3), annotation_name_side = &quot;left&quot;)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-22-2.png" width="672" /></p>
</div>
<div id="вывод-множества-диаграмм-на-одном-графике" class="section level3">
<h3>Вывод множества диаграмм на одном графике</h3>
<pre class="r"><code>m1 = make_comb_mat(ls, mode = &quot;distinct&quot;)
m2 = make_comb_mat(ls, mode = &quot;intersect&quot;)
m3 = make_comb_mat(ls, mode = &quot;union&quot;)
UpSet(m1, row_title = &quot;distinct mode&quot;) %v%
    UpSet(m2, row_title = &quot;intersect mode&quot;) %v%
    UpSet(m3, row_title = &quot;union mode&quot;)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<pre class="r"><code>UpSet(t(m1), column_title = &quot;distinct mode&quot;) +
    UpSet(t(m2), column_title = &quot;intersect mode&quot;) +
    UpSet(t(m3), column_title = &quot;union mode&quot;)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-23-2.png" width="672" /></p>
<p>Три комбинированные матрицы на самом деле одинаковы, и их трехкратное построение является излишним. Благодаря функциональности пакета ComplexHeatmap мы можем напрямую добавлять три аннотации к столбчатой диаграмме.</p>
<pre class="r"><code>top_ha = HeatmapAnnotation(
    &quot;distict&quot; = anno_barplot(comb_size(m1), 
        gp = gpar(fill = &quot;black&quot;), height = unit(2, &quot;cm&quot;)), 
    &quot;intersect&quot; = anno_barplot(comb_size(m2), 
        gp = gpar(fill = &quot;black&quot;), height = unit(2, &quot;cm&quot;)), 
    &quot;union&quot; = anno_barplot(comb_size(m3), 
        gp = gpar(fill = &quot;black&quot;), height = unit(2, &quot;cm&quot;)), 
    gap = unit(2, &quot;mm&quot;), annotation_name_side = &quot;left&quot;, annotation_name_rot = 0)
# the same for using m2 or m3
UpSet(m1, top_annotation = top_ha)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<pre class="r"><code>right_ha = rowAnnotation(
    &quot;distict&quot; = anno_barplot(comb_size(m1), 
        gp = gpar(fill = &quot;black&quot;), width = unit(2, &quot;cm&quot;)), 
    &quot;intersect&quot; = anno_barplot(comb_size(m2), 
        gp = gpar(fill = &quot;black&quot;), width = unit(2, &quot;cm&quot;)), 
    &quot;union&quot; = anno_barplot(comb_size(m3), 
        gp = gpar(fill = &quot;black&quot;), width = unit(2, &quot;cm&quot;)), 
    gap = unit(2, &quot;mm&quot;), annotation_name_side = &quot;bottom&quot;)
# the same for using m2 or m3
UpSet(t(m1), right_annotation = right_ha)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-24-2.png" width="672" /></p>
<p>Разобрать этот кусок и функцию decorate_annotation</p>
<pre class="r"><code>ht = draw(UpSet(mx))
od = column_order(ht)
cs = comb_size(mx)
decorate_annotation(&quot;intersection_size&quot;, {
    grid.text(cs[od], x = seq_along(cs), y = unit(cs[od], &quot;native&quot;) + unit(2, &quot;pt&quot;), 
        default.units = &quot;native&quot;, just = &quot;bottom&quot;, gp = gpar(fontsize = 12))
})</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
<div id="разбираем-пример-с-набором-данных-о-фильмах" class="section level3">
<h3>Разбираем пример с набором данных о фильмах</h3>
<p>Пакет UpSetR содержит встроенный набор данных о фильмах сделаем пару примеров на его основе.</p>
<p>Набор представляет из себя следующее:</p>
<ul>
<li>Имя фильма</li>
<li>Год выпуска</li>
<li>Флаги принадлежности к жанру (17 столбцов)</li>
<li>Средний рейтинг</li>
<li>Количество просмотров</li>
</ul>
<pre class="r"><code>movies = read.csv(system.file(&quot;extdata&quot;, &quot;movies.csv&quot;, package = &quot;UpSetR&quot;), 
    header = TRUE, sep = &quot;;&quot;)
head(movies) # `make_comb_mat()` automatically ignores the first two columns</code></pre>
<pre><code>##                                 Name ReleaseDate Action Adventure Children
## 1                   Toy Story (1995)        1995      0         0        1
## 2                     Jumanji (1995)        1995      0         1        1
## 3            Grumpier Old Men (1995)        1995      0         0        0
## 4           Waiting to Exhale (1995)        1995      0         0        0
## 5 Father of the Bride Part II (1995)        1995      0         0        0
## 6                        Heat (1995)        1995      1         0        0
##   Comedy Crime Documentary Drama Fantasy Noir Horror Musical Mystery Romance
## 1      1     0           0     0       0    0      0       0       0       0
## 2      0     0           0     0       1    0      0       0       0       0
## 3      1     0           0     0       0    0      0       0       0       1
## 4      1     0           0     1       0    0      0       0       0       0
## 5      1     0           0     0       0    0      0       0       0       0
## 6      0     1           0     0       0    0      0       0       0       0
##   SciFi Thriller War Western AvgRating Watches
## 1     0        0   0       0      4.15    2077
## 2     0        0   0       0      3.20     701
## 3     0        0   0       0      3.02     478
## 4     0        0   0       0      2.73     170
## 5     0        0   0       0      3.01     296
## 6     0        1   0       0      3.88     940</code></pre>
<p>Составляем матрицу комбинаций из набора данных</p>
<pre class="r"><code>m = make_comb_mat(movies, top_n_sets = 6)
m = m[comb_degree(m) &gt; 0]
m</code></pre>
<pre><code>## A combination matrix with 6 sets and 38 combinations.
##   ranges of combination set size: c(1, 1028).
##   mode for the combination size: distinct.
##   sets are on rows.
## 
## Top 8 combination sets are:
##   Action Comedy Drama Horror Romance Thriller   code size
##                     x                         001000 1028
##               x                               010000  698
##                            x                  000100  216
##        x                                      100000  206
##                                             x 000001  183
##               x     x                         011000  180
##               x                    x          010010  160
##                     x              x          001010  158
## 
## Sets are:
##        set size
##     Action  503
##     Comedy 1200
##      Drama 1603
##     Horror  343
##    Romance  471
##   Thriller  492</code></pre>
<pre class="r"><code>UpSet(m)</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>Форматируем этот график</p>
<pre class="r"><code>ss = set_size(m)
cs = comb_size(m)
ht = UpSet(m, 
    set_order = order(ss),
    comb_order = order(comb_degree(m), -cs),
    top_annotation = HeatmapAnnotation(
        &quot;Genre Intersections&quot; = anno_barplot(cs, 
            ylim = c(0, max(cs)*1.1),
            border = FALSE, 
            gp = gpar(fill = &quot;black&quot;), 
            height = unit(4, &quot;cm&quot;)
        ), 
        annotation_name_side = &quot;left&quot;, 
        annotation_name_rot = 90),
    left_annotation = rowAnnotation(
        &quot;Movies Per Genre&quot; = anno_barplot(-ss, 
            baseline = 0,
            axis_param = list(
                at = c(0, -500, -1000, -1500),
                labels = c(0, 500, 1000, 1500),
                labels_rot = 0),
            border = FALSE, 
            gp = gpar(fill = &quot;black&quot;), 
            width = unit(4, &quot;cm&quot;)
        ),
        set_name = anno_text(set_name(m), 
            location = 0.5, 
            just = &quot;center&quot;,
            width = max_text_width(set_name(m)) + unit(4, &quot;mm&quot;))
    ), 
    right_annotation = NULL,
    show_row_names = FALSE)
ht = draw(ht)
od = column_order(ht)
decorate_annotation(&quot;Genre Intersections&quot;, {
    grid.text(cs[od], x = seq_along(cs), y = unit(cs[od], &quot;native&quot;) + unit(2, &quot;pt&quot;), 
        default.units = &quot;native&quot;, just = c(&quot;left&quot;, &quot;bottom&quot;), 
        gp = gpar(fontsize = 6, col = &quot;#404040&quot;), rot = 45)
})</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>В наборе данных movies также есть один столбец AvgRating, который дает рейтинг каждого фильма, затем мы разделяем все фильмы на пять групп на основе оценок.</p>
<pre class="r"><code>genre = c(&quot;Action&quot;, &quot;Romance&quot;, &quot;Horror&quot;, &quot;Children&quot;, &quot;SciFi&quot;, &quot;Documentary&quot;)
rating = cut(movies$AvgRating, c(0, 1, 2, 3, 4, 5))
m_list = tapply(seq_len(nrow(movies)), rating, function(ind) {
    m = make_comb_mat(movies[ind, genre, drop = FALSE])
    m[comb_degree(m) &gt; 0]
})</code></pre>
<p>Чтобы сравнить несколько групп с UpSet графиками, нам нужно нормализовать все матрицы, чтобы они имели одинаковые наборы и одинаковые наборы комбинаций. normalize_comb_mat() в основном добавляет ноль к новым наборам комбинаций, которых раньше не было.</p>
<pre class="r"><code>m_list = normalize_comb_mat(m_list)
sapply(m_list, comb_size)</code></pre>
<pre><code>##        (0,1] (1,2] (2,3] (3,4] (4,5]
## 110001     0     1     0     1     0
## 100101     0     1     4     6     1
## 100011     0     0     0     1     1
## 110000     0     5     6     0     0
## 100100     0     4     2     6     1
## 100010     0     1     8    20     4
## 100001     0     5    35    45     6
## 010100     0     0     0     1     0
## 010010     0     0     3     4     0
## 010001     0     0     7     5     0
## 000110     0     0     0     3     0
## 000101     0     8    27    11     0
## 000011     0     0     1     4     0
## 100000     0    14   126   176    23
## 010000     1    14    77   122     4
## 001000     1     2     9    87    28
## 000100     2    38   142    82     4
## 000010     1     7    99   276    38
## 000001     0     3    27    66    10</code></pre>
<pre class="r"><code># Мы вычисляем диапазон для двух гистограмм:
max_set_size = max(sapply(m_list, set_size))
max_comb_size = max(sapply(m_list, comb_size))

ht_list = NULL
for(i in seq_along(m_list)) {
    ht_list = ht_list %v%
        UpSet(m_list[[i]], row_title = paste0(&quot;rating in&quot;, names(m_list)[i]),
            set_order = NULL, comb_order = NULL,
            top_annotation = upset_top_annotation(m_list[[i]], ylim = c(0, max_comb_size)),
            right_annotation = upset_right_annotation(m_list[[i]], ylim = c(0, max_set_size)))
}
ht_list</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-30-1.png" width="1152" /></p>
<p>Сравнив пять UpSet сюжетов, мы видим, что большинство фильмов имеют рейтинг от 2 до 4. Фильмы ужасов, как правило, имеют более низкие рейтинги, а романтические фильмы, как правило, имеют более высокие рейтинги.</p>
<p>Вместо прямого сравнения размера наборов комбинаций мы также можем сравнить относительную долю с полными наборами. В следующем коде мы удаляем группу c(0, 1], потому что там слишком мало фильмов.</p>
<pre class="r"><code>m_list = m_list[-1]
max_set_size = max(sapply(m_list, set_size))
rel_comb_size = sapply(m_list, function(m) {
    s = comb_size(m)
    # because the combination matrix is generated under &quot;distinct&quot; mode
    # the sum of `s` is the size of the full set
    s/sum(s)
})
ht_list = NULL
for(i in seq_along(m_list)) {
    ht_list = ht_list %v%
        UpSet(m_list[[i]], row_title = paste0(&quot;rating in&quot;, names(m_list)[i]),
            set_order = NULL, comb_order = NULL,
            top_annotation = HeatmapAnnotation(
                &quot;Relative\nfraction&quot; = anno_barplot(
                    rel_comb_size[, i],
                    ylim = c(0, 0.5),
                    gp = gpar(fill = &quot;black&quot;),
                    border = FALSE,
                    height = unit(2, &quot;cm&quot;),
                ), 
                annotation_name_side = &quot;left&quot;,
                annotation_name_rot = 0),
            right_annotation = upset_right_annotation(m_list[[i]], 
                ylim = c(0, max_set_size))
        )
}
ht_list</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>Затем мы разделим фильмы по годам:</p>
<pre class="r"><code>year = floor(movies$ReleaseDate/10)*10
m_list = tapply(seq_len(nrow(movies)), year, function(ind) {
    m = make_comb_mat(movies[ind, genre, drop = FALSE])
    m[comb_degree(m) &gt; 0]
})
m_list = normalize_comb_mat(m_list)
max_set_size = max(sapply(m_list, set_size))
max_comb_size = max(sapply(m_list, comb_size))
ht_list1 = NULL
for(i in 1:5) {
    ht_list1 = ht_list1 %v%
        UpSet(m_list[[i]], row_title = paste0(names(m_list)[i], &quot;s&quot;),
            set_order = NULL, comb_order = NULL,
            top_annotation = upset_top_annotation(m_list[[i]], ylim = c(0, max_comb_size),
                height = unit(2, &quot;cm&quot;)),
            right_annotation = upset_right_annotation(m_list[[i]], ylim = c(0, max_set_size)))
}

ht_list2 = NULL
for(i in 6:10) {
    ht_list2 = ht_list2 %v%
        UpSet(m_list[[i]], row_title = paste0(names(m_list)[i], &quot;s&quot;),
            set_order = NULL, comb_order = NULL,
            top_annotation = upset_top_annotation(m_list[[i]], ylim = c(0, max_comb_size),
                height = unit(2, &quot;cm&quot;)),
            right_annotation = upset_right_annotation(m_list[[i]], ylim = c(0, max_set_size)))
}
grid.newpage()
pushViewport(viewport(x = 0, width = 0.5, just = &quot;left&quot;))
draw(ht_list1, newpage = FALSE)
popViewport()
pushViewport(viewport(x = 0.5, width = 0.5, just = &quot;left&quot;))
draw(ht_list2, newpage = FALSE)
popViewport()</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-32-1.png" width="960" /></p>
<p>Наконец, мы можем добавить статистику по годам, рейтингам и количеству часов для каждой комбинации, заданной в виде аннотаций boxplot справа от основного графика.</p>
<pre class="r"><code>m = make_comb_mat(movies[, genre])
m = m[comb_degree(m) &gt; 0]
comb_elements = lapply(comb_name(m), function(nm) extract_comb(m, nm))
years = lapply(comb_elements, function(ind) movies$ReleaseDate[ind])
rating = lapply(comb_elements, function(ind) movies$AvgRating[ind])
watches = lapply(comb_elements, function(ind) movies$Watches[ind])

UpSet(t(m)) + rowAnnotation(years = anno_boxplot(years),
    rating = anno_boxplot(rating),
    watches = anno_boxplot(watches),
    gap = unit(2, &quot;mm&quot;))</code></pre>
<p><img src="https://bestpractices.netlify.app/post/2022-07-01-upset/index_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
</div>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://bestpractices.netlify.app/js/toc.js'></script>
<link rel="stylesheet" href='https://bestpractices.netlify.app/css/toc.css' />


  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://bestpractices.netlify.app/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://bestpractices.netlify.app/js/github-style.js"></script>




</html>