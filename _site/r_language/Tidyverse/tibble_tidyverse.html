<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.258">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Best Practices IT">
<meta name="dcterms.date" content="2023-02-09">
<meta name="description" content="Обзор основного функционала пакета tibble">
<title>Tibble</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../r_language/Tidyverse/dplyr_tidyverse.html" rel="next">
<link href="../../r_language/r_language_page.html" rel="prev">
<link href="../../Robot_face_amico.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Tibble">
<meta property="og:description" content="Обзор основного функционала пакета tibble">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../r_language/r_language_page.html" aria-current="page">
 <span class="menu-text">R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../visualization/visualization_page.html">
 <span class="menu-text">Visualization</span></a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Tibble</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../r_language/r_language_page.html" class="sidebar-item-text sidebar-link">R language</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Tidyverse</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../r_language/Tidyverse/tibble_tidyverse.html" class="sidebar-item-text sidebar-link active">Tibble</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../r_language/Tidyverse/dplyr_tidyverse.html" class="sidebar-item-text sidebar-link">Dplyr</a>
  </div>
</li>
      </ul>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Tutorial</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../r_language/Tutorial/Quarto_cheatsheet.html" class="sidebar-item-text sidebar-link">Quarto cheat sheet</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#%D0%BE-tibble" id="toc-о-tibble" class="nav-link active" data-scroll-target="#%D0%BE-tibble">О tibble</a></li>
  <li>
<a href="#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-tibble" id="toc-создание-tibble" class="nav-link" data-scroll-target="#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-tibble">Создание tibble</a>
  <ul>
<li><a href="#tibble" id="toc-tibble" class="nav-link" data-scroll-target="#tibble">tibble</a></li>
  <li><a href="#tibble_row" id="toc-tibble_row" class="nav-link" data-scroll-target="#tibble_row">tibble_row</a></li>
  <li><a href="#tribble" id="toc-tribble" class="nav-link" data-scroll-target="#tribble">tribble</a></li>
  <li><a href="#new_tibble" id="toc-new_tibble" class="nav-link" data-scroll-target="#new_tibble">new_tibble</a></li>
  </ul>
</li>
  <li>
<a href="#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B" id="toc-создание-матрицы" class="nav-link" data-scroll-target="#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B">Создание матрицы</a>
  <ul>
<li><a href="#frame_matrix" id="toc-frame_matrix" class="nav-link" data-scroll-target="#frame_matrix">frame_matrix</a></li>
  </ul>
</li>
  <li>
<a href="#%D0%BE%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-tibble" id="toc-отображение-tibble" class="nav-link" data-scroll-target="#%D0%BE%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-tibble">Отображение tibble</a>
  <ul>
<li><a href="#print" id="toc-print" class="nav-link" data-scroll-target="#print">print</a></li>
  <li><a href="#view" id="toc-view" class="nav-link" data-scroll-target="#view">view</a></li>
  </ul>
</li>
  <li>
<a href="#%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BE%D0%B2" id="toc-обработка-векторов" class="nav-link" data-scroll-target="#%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BE%D0%B2">Обработка векторов</a>
  <ul>
<li><a href="#num" id="toc-num" class="nav-link" data-scroll-target="#num">num</a></li>
  <li><a href="#char" id="toc-char" class="nav-link" data-scroll-target="#char">char</a></li>
  <li><a href="#lst" id="toc-lst" class="nav-link" data-scroll-target="#lst">lst</a></li>
  <li><a href="#enframe" id="toc-enframe" class="nav-link" data-scroll-target="#enframe">enframe</a></li>
  <li><a href="#deframe" id="toc-deframe" class="nav-link" data-scroll-target="#deframe">deframe</a></li>
  </ul>
</li>
  <li>
<a href="#%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B8" id="toc-проверки" class="nav-link" data-scroll-target="#%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B8">Проверки</a>
  <ul>
<li><a href="#is_tibble" id="toc-is_tibble" class="nav-link" data-scroll-target="#is_tibble">is_tibble</a></li>
  <li><a href="#validate_tibble" id="toc-validate_tibble" class="nav-link" data-scroll-target="#validate_tibble">validate_tibble</a></li>
  </ul>
</li>
  <li>
<a href="#%D0%BC%D0%B0%D0%BD%D0%B8%D0%BF%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D1%8F-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8" id="toc-манипуляция-данными" class="nav-link" data-scroll-target="#%D0%BC%D0%B0%D0%BD%D0%B8%D0%BF%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D1%8F-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8">Манипуляция данными</a>
  <ul>
<li><a href="#add_row" id="toc-add_row" class="nav-link" data-scroll-target="#add_row">add_row</a></li>
  <li><a href="#add_column" id="toc-add_column" class="nav-link" data-scroll-target="#add_column">add_column</a></li>
  </ul>
</li>
  <li>
<a href="#%D0%BF%D1%80%D0%B8%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D1%82%D0%B8%D0%BF%D0%BE%D0%B2" id="toc-приведение-типов" class="nav-link" data-scroll-target="#%D0%BF%D1%80%D0%B8%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D1%82%D0%B8%D0%BF%D0%BE%D0%B2">Приведение типов</a>
  <ul>
<li><a href="#as_tibble" id="toc-as_tibble" class="nav-link" data-scroll-target="#as_tibble">as_tibble</a></li>
  <li><a href="#as_tibble_row" id="toc-as_tibble_row" class="nav-link" data-scroll-target="#as_tibble_row">as_tibble_row</a></li>
  <li><a href="#as_tibble_col" id="toc-as_tibble_col" class="nav-link" data-scroll-target="#as_tibble_col">as_tibble_col</a></li>
  </ul>
</li>
  <li>
<a href="#%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B8%D0%BC%D0%B5%D0%BD-%D1%81%D1%82%D1%80%D0%BE%D0%BA" id="toc-обработка-имен-строк" class="nav-link" data-scroll-target="#%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B8%D0%BC%D0%B5%D0%BD-%D1%81%D1%82%D1%80%D0%BE%D0%BA">Обработка имен строк</a>
  <ul>
<li><a href="#has_rownames" id="toc-has_rownames" class="nav-link" data-scroll-target="#has_rownames">has_rownames</a></li>
  <li><a href="#remove_rownames" id="toc-remove_rownames" class="nav-link" data-scroll-target="#remove_rownames">remove_rownames</a></li>
  <li><a href="#rownames_to_column" id="toc-rownames_to_column" class="nav-link" data-scroll-target="#rownames_to_column">rownames_to_column</a></li>
  <li><a href="#column_to_rownames" id="toc-column_to_rownames" class="nav-link" data-scroll-target="#column_to_rownames">column_to_rownames</a></li>
  <li><a href="#rowid_to_column" id="toc-rowid_to_column" class="nav-link" data-scroll-target="#rowid_to_column">rowid_to_column</a></li>
  </ul>
</li>
  <li><a href="#%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C" id="toc-производительность" class="nav-link" data-scroll-target="#%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C">Производительность</a></li>
  <li><a href="#%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5-%D1%82%D0%B8%D0%BF%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85" id="toc-поддерживаемые-типы-данных" class="nav-link" data-scroll-target="#%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5-%D1%82%D0%B8%D0%BF%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">Поддерживаемые типы данных</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">Tibble</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">tibble</div>
    <div class="quarto-category">tidyverse</div>
  </div>
  </div>

<div>
  <div class="description">
    Обзор основного функционала пакета tibble
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 9, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header><section id="о-tibble" class="level2"><h2 class="anchored" data-anchor-id="о-tibble">О tibble</h2>
<p>Класс tbl_df является подклассом data.frame, созданным для того, чтобы иметь другое поведение по умолчанию. Разговорный термин “tibble” относится к фрейму данных, который имеет класс tbl_df.</p>
<p>У класса tbl_df следующие зависимости:</p>
<ul>
<li><p>атрибуты класса: c(“tbl_df”, “tbl”, “data.frame”)</p></li>
<li><p>базовый элемент - вектор, где каждый вектор имеет одину и ту же длинну <a href="https://vctrs.r-lib.org/reference/vec_size.html">vctrs::vec_size()</a></p></li>
<li><p>атрибут names, представляющий собой вектор символов той же длины, что и базовый список</p></li>
<li><p>атрибут row.names, включенный для совместимости с data.frame. К этому атрибуту обращаются только для запроса количества строк, любые имена строк, которые могут там храниться, игнорируются большинством методов tibble.</p></li>
</ul>
<p>Поведение объектов класса tbl_df</p>
<ul>
<li>символьные вектора не приводятся принудительно к типу факторов</li>
<li>имена столбцов не изменяются</li>
<li>Переработка происходит только для векторов длиной 1, т.к. расширение векторов длинной более 1 элемента к длинне других векторов фрейма часто приводит к ошибкам <a href="https://vctrs.r-lib.org/reference/vec_recycle.html">vctrs::vec_recycle()</a>
</li>
<li>Имена столбцов не заполняются, хотя отсутствующие имена заполняются автоматически. Пустые и дублирующиеся имена столбцов категорически не рекомендуются, но пользователь должен указать, как их разрешить. Подробнее читайте в <a href="https://vctrs.r-lib.org/reference/vec_as_names.html">vctrs::vec_as_names()</a>
</li>
<li>Имена строк не добавляются и настоятельно не рекомендуются в пользу сохранения этой информации в виде столбца. Читайте об этом в <a href="https://tibble.tidyverse.org/reference/rownames.html">именах строк</a>
</li>
<li>df[, j] возвращает tibble; он не извлекает автоматически столбец внутри. значение по умолчанию - df[, j, drop = FALSE]. Подробнее читайте в разделе <a href="https://tibble.tidyverse.org/reference/subsetting.html">подмножество</a>
</li>
</ul></section><section id="создание-tibble" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="создание-tibble">Создание tibble</h2>
<p>Аргументы:</p>
<ul>
<li>
<code>.rows</code> - количество строк</li>
<li>
<code>.name_repair</code> - проверка имен столбцов
<ul>
<li>
<code>minimal</code> - без проверки, кроме самого наличия имени столбца</li>
<li>
<code>unique</code> - имя должно быть уникальное и не пустое</li>
<li>
<code>check_unique</code> - имя должно быть уникальное</li>
<li>
<code>universal</code> - делает имена уникальными и синтетическими</li>
</ul>
</li>
</ul>
<section id="tibble" class="level3"><h3 class="anchored" data-anchor-id="tibble">tibble</h3>
<p><strong>Определение</strong></p>
<p>Метод создающий фрейм данных</p>
<p><strong>Использование</strong></p>
<p><code>tibble(..., .rows = NULL, .name_repair = c("check_unique", "unique", "universal", "minimal"))</code></p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span>
<span><span class="fu">tibble</span><span class="op">(</span><span class="va">a</span>, <span class="va">a</span> <span class="op">*</span> <span class="fl">2</span>, <span class="va">a</span>, .name_repair <span class="op">=</span> <span class="st">"universal"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `a` -&gt; `a...1`
• `a * 2` -&gt; `a...2`
• `a` -&gt; `a...3`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  a...1 a...2 a...3
  &lt;int&gt; &lt;dbl&gt; &lt;int&gt;
1     1     2     1
2     2     4     2
3     3     6     3
4     4     8     4
5     5    10     5</code></pre>
</div>
</div>
</section><section id="tibble_row" class="level3"><h3 class="anchored" data-anchor-id="tibble_row">tibble_row</h3>
<p><strong>Определение</strong></p>
<p>Метод создающий фрейм данных содержащий только одну строку. Векторные столбцы должны иметь длинну в один элемент, не векторные приводятся к типу список</p>
<p><strong>Использование</strong></p>
<p><code>tibble_row(..., .name_repair = c("check_unique", "unique", "universal", "minimal") )</code></p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble_row</span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, lm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Height</span> <span class="op">~</span> <span class="va">Girth</span> <span class="op">+</span> <span class="va">Volume</span>, data <span class="op">=</span> <span class="va">trees</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
      a lm    
  &lt;dbl&gt; &lt;list&gt;
1     1 &lt;lm&gt;  </code></pre>
</div>
</div>
</section><section id="tribble" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="tribble">tribble</h3>
<p><strong>Определение</strong></p>
<p>Метод для создания фрейма данных строка за строкой, т.е. задать вручную данные для небольшого набора, где важна удобочитаемость примера.</p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tribble</span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">colA</span>, <span class="op">~</span><span class="va">colB</span>,</span>
<span>  <span class="st">"a"</span>,   <span class="fl">1</span>,</span>
<span>  <span class="st">"b"</span>,   <span class="fl">2</span>,</span>
<span>  <span class="st">"c"</span>,   <span class="fl">3</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  colA   colB
  &lt;chr&gt; &lt;dbl&gt;
1 a         1
2 b         2
3 c         3</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tribble</span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">a</span>, <span class="op">~</span><span class="va">b</span>, <span class="op">~</span><span class="va">c</span>,</span>
<span>  <span class="fl">1</span>, <span class="st">"2000-01-01"</span>, <span class="st">"1.5"</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">as.integer</span><span class="op">)</span>,</span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="va">b</span>, <span class="va">as.Date</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
      a b          c    
  &lt;int&gt; &lt;date&gt;     &lt;chr&gt;
1     1 2000-01-01 1.5  </code></pre>
</div>
</div>
</div>
</div>
</section><section id="new_tibble" class="level3"><h3 class="anchored" data-anchor-id="new_tibble">new_tibble</h3>
<p><strong>Определение</strong></p>
<p>Метод создающий фрейм данных, оптимизированный по производительности, проверки сведены к минимуму. Реализован на основе метода <a href="https://vctrs.r-lib.org/reference/new_data_frame.html">new_data_frame()</a> из пакета vctrs</p>
<p><strong>Использование</strong></p>
<p><code>new_tibble(x, ..., nrow = NULL, class = NULL, subclass = NULL)</code></p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">new_tibble</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, b <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
      a     b
  &lt;int&gt; &lt;int&gt;
1     1     4
2     2     5
3     3     6</code></pre>
</div>
</div>
</section></section><section id="создание-матрицы" class="level2"><h2 class="anchored" data-anchor-id="создание-матрицы">Создание матрицы</h2>
<section id="frame_matrix" class="level3"><h3 class="anchored" data-anchor-id="frame_matrix">frame_matrix</h3>
<p><strong>Определение</strong></p>
<p>Метод для создания небольших матриц, например ковариационных, где важна наглядность с расположением данных по строкам</p>
<p><strong>Использование</strong></p>
<p><code>frame_matrix(...)</code></p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frame_matrix</span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">col1</span>, <span class="op">~</span><span class="va">col2</span>,</span>
<span>  <span class="fl">1</span>,     <span class="fl">3</span>,</span>
<span>  <span class="fl">5</span>,     <span class="fl">2</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     col1 col2
[1,]    1    3
[2,]    5    2</code></pre>
</div>
</div>
</section></section><section id="отображение-tibble" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="отображение-tibble">Отображение tibble</h2>
<section id="print" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="print">print</h3>
<p><strong>Определение</strong></p>
<p>Выводит на печать фрейм данных</p>
<p><strong>Атрибуты метода:</strong></p>
<ul>
<li>
<code>x</code> - объект, который нужно отформатировать или напечатать</li>
<li>
<code>width</code> - ширина выводимого текста фрейма</li>
<li>
<code>n</code> - количество отображаемых строк</li>
<li>
<code>max_extra_cols</code> - количество дополнительных столбцов для печати сокращенной информации, если ширина слишком мала для всего текста</li>
<li>
<code>max_footer_lines</code> - максимальное количество строк нижнего колонтитула. Если значение равно NULL, используется параметр max_footer_lines.</li>
</ul>
<p><strong>Использование</strong></p>
<p><code>print(x, width = NULL, ..., n = NULL, max_extra_cols = NULL, max_footer_lines = NULL)</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">1</span>, width <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
    mpg   cyl  disp    hp  drat    wt  qsec    vs
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1    21     6   160   110   3.9  2.62  16.5     0
# … with 31 more rows, and 3 more variables:
#   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">3</span>, width <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
    mpg   cyl  disp    hp  drat    wt  qsec    vs
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  21       6   160   110  3.9   2.62  16.5     0
2  21       6   160   110  3.9   2.88  17.0     0
3  22.8     4   108    93  3.85  2.32  18.6     1
# … with 29 more rows, and 3 more variables:
#   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</div>
</section><section id="view" class="level3"><h3 class="anchored" data-anchor-id="view">view</h3>
<p><strong>Определение</strong></p>
<p>Выводит отображение фрейма данных в отдельное окно. Опять же не так актуально при работе с данными в блокноте.</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">view</span><span class="op">(</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, title <span class="op">=</span> <span class="st">'Date frame'</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="обработка-векторов" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="обработка-векторов">Обработка векторов</h2>
<section id="num" class="level3"><h3 class="anchored" data-anchor-id="num">num</h3>
<p><strong>Определение</strong></p>
<p>Создает числовой вектор, которорый можно отформатировать</p>
<p><strong>Атрибуты метода:</strong></p>
<ul>
<li>
<code>x</code> - числовой вектор</li>
<li>
<code>sigfig</code> - задает количество значащих цифр, не комбинируется с <code>digits</code>
</li>
<li>
<code>digits</code> - количество отображаемых цифр после десятичных знаков, не комбинируется с <code>sigfig</code>
</li>
<li>
<code>label</code> - метка столбца вместо отображения типа</li>
<li>
<code>scale</code> - множитель применяемый перед отображением</li>
<li>
<code>notation</code> - нотация отображения
<ul>
<li>
<code>fit</code> - десятичная нотация, используется если поле содержит 13 и меньше цифр</li>
<li>
<code>dec</code> - десятичная нотация, не зависящая от ширины</li>
<li>
<code>sci</code> - научная нотация</li>
<li>
<code>eng</code> - инженерная нотация (научная нотация использующая показатели равные трем)</li>
<li>
<code>si</code> - система SI (поддерживаются префиксы между 1e-24 и 1e24)</li>
</ul>
</li>
<li>
<code>fixed_exponent</code> - задает показатель степени для всех чисел в научной, инженерной системе счисления или системе SI</li>
<li>
<code>extra_sigfig</code> -</li>
</ul>
<p><strong>Использование</strong></p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  x   <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, label <span class="op">=</span> <span class="st">"базовый"</span><span class="op">)</span>,</span>
<span>  x0  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, digits <span class="op">=</span> <span class="fl">0</span>,       label <span class="op">=</span> <span class="st">"dig 0"</span><span class="op">)</span>,</span>
<span>  x1  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, digits <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,      label <span class="op">=</span> <span class="st">"dig -1"</span><span class="op">)</span>,</span>
<span>  x2  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, digits <span class="op">=</span> <span class="op">-</span><span class="fl">2</span>,      label <span class="op">=</span> <span class="st">"dig -2"</span><span class="op">)</span>,</span>
<span>  x3  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, digits <span class="op">=</span> <span class="fl">2</span>,       label <span class="op">=</span> <span class="st">"dig 2"</span><span class="op">)</span>,</span>
<span>  x4  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, sigfig <span class="op">=</span> <span class="fl">3</span>,       label <span class="op">=</span> <span class="st">"sig 3"</span><span class="op">)</span>,</span>
<span>  x5  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, sigfig <span class="op">=</span> <span class="fl">4</span>,       label <span class="op">=</span> <span class="st">"sig 4"</span><span class="op">)</span>,</span>
<span>  x6  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, sigfig <span class="op">=</span> <span class="fl">5</span>,       label <span class="op">=</span> <span class="st">"sig 5"</span><span class="op">)</span>,</span>
<span>  x7  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, scale <span class="op">=</span> <span class="fl">10</span>,       label <span class="op">=</span> <span class="st">"scale 10"</span><span class="op">)</span>,</span>
<span>  x8  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, scale <span class="op">=</span> <span class="fl">100</span>,      label <span class="op">=</span> <span class="st">"scale 100"</span><span class="op">)</span>,</span>
<span>  x9  <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, scale <span class="op">=</span> <span class="fl">0.1</span>,      label <span class="op">=</span> <span class="st">"scale 0.1"</span><span class="op">)</span>,</span>
<span>  x10 <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, notation <span class="op">=</span> <span class="st">"sci"</span>, label <span class="op">=</span> <span class="st">"sci"</span><span class="op">)</span>,</span>
<span>  x11 <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, notation <span class="op">=</span> <span class="st">"eng"</span>, label <span class="op">=</span> <span class="st">"eng"</span><span class="op">)</span>,</span>
<span>  x12 <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, notation <span class="op">=</span> <span class="st">"si"</span>,  label <span class="op">=</span> <span class="st">"si"</span><span class="op">)</span>,</span>
<span>  x13 <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">+</span> <span class="fl">0.5</span>, notation <span class="op">=</span> <span class="st">"dec"</span>, label <span class="op">=</span> <span class="st">"dec"</span><span class="op">)</span>,</span>
<span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">df</span>, width <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 15
        x    x0     x1     x2      x3    x4     x5     x6       x7        x8
  базовый dig 0 dig -1 dig -2   dig 2 sig 3  sig 4  sig 5 scale 10 scale 100
1    900.  900.  900.5  900.5  900.50  900.  900.5  900.5     9005     90050
2   1000. 1000. 1000.5 1000.5 1000.50 1000. 1000.  1000.5    10005    100050
3   1100. 1100. 1100.5 1100.5 1100.50 1100. 1100.  1100.5    11005    110050
         x9    x10      x11     x12   x13
  scale 0.1    sci      eng      si   dec
1      90.1 9.01e2 900.  e0 900.     900.
2     100.  1.00e3   1.00e3   1.00k 1000.
3     110.  1.10e3   1.10e3   1.10k 1100.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  scismall <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">7</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op">*</span> <span class="fl">123</span>, notation <span class="op">=</span> <span class="st">"sci"</span>, fixed_exponent <span class="op">=</span> <span class="op">-</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>  scilarge <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">7</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op">*</span> <span class="fl">123</span>, notation <span class="op">=</span> <span class="st">"sci"</span>, fixed_exponent <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  scimax   <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">7</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op">*</span> <span class="fl">123</span>, notation <span class="op">=</span> <span class="st">"sci"</span>, fixed_exponent <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 3
            scismall          scilarge            scimax
               [e-3]              [e3]              [e8]
 1            0.0123      0.0000000123 0.000000000000123
 2            0.123       0.000000123  0.00000000000123 
 3            1.23        0.00000123   0.0000000000123  
 4           12.3         0.0000123    0.000000000123   
 5          123           0.000123     0.00000000123    
 6         1230           0.00123      0.0000000123     
 7        12300           0.0123       0.000000123      
 8       123000           0.123        0.00000123       
 9      1230000           1.23         0.0000123        
10     12300000          12.3          0.000123         
11    123000000         123            0.00123          
12   1230000000        1230            0.0123           
13  12300000000       12300            0.123            
14 123000000000      123000            1.23             </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  default <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">100</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">*</span> <span class="fl">0.001</span><span class="op">)</span>,</span>
<span>  extra1 <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">100</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">*</span> <span class="fl">0.001</span>, extra_sigfig <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  extra2 <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">100</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">*</span> <span class="fl">0.0001</span>, extra_sigfig <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  extra3 <span class="op">=</span> <span class="fu">num</span><span class="op">(</span><span class="fl">10000</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">*</span> <span class="fl">0.00001</span>, extra_sigfig <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  default  extra1   extra2      extra3
    &lt;num&gt;   &lt;num&gt;    &lt;num&gt;       &lt;num&gt;
1    100. 100.001 100.0001 10000.00001
2    100. 100.002 100.0002 10000.00002
3    100. 100.003 100.0003 10000.00003</code></pre>
</div>
</div>
</section><section id="char" class="level3"><h3 class="anchored" data-anchor-id="char">char</h3>
<p><strong>Определение</strong></p>
<p>Создает вектор символов, который может быть отформатирован с заданной минимальной шириной или без ограничений по ширине, и в котором можно настроить стиль аббревиатуры.</p>
<p><strong>Атрибуты метода:</strong></p>
<ul>
<li>
<code>x</code> - символьный вектор</li>
<li>
<code>min_chars</code> - Минимальная ширина, выделяемая для этого столбца, по умолчанию равна 15</li>
<li>
<code>shorten</code> - задает сокращение и его стиль
<ul>
<li>
<code>back</code> - добавляет многоточие в конце (по умолчанию)</li>
<li>
<code>front</code> - добавляет многоточие спереди</li>
<li>
<code>mid</code> - добавляет многоточие по середине</li>
<li>
<code>abbreviate</code> - использование аббревиатуры</li>
</ul>
</li>
</ul>
<p><strong>Использование</strong></p>
<p><code>char(x, ..., min_chars = NULL,shorten = c("back", "front", "mid", "abbreviate"))</code></p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lipsum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_rand_lipsum.html">stri_rand_lipsum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>, <span class="st">"(?&lt;=[.]) +"</span>, perl <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu">char</span><span class="op">(</span><span class="va">lipsum</span>, min_chars <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>  x0 <span class="op">=</span> <span class="fu">char</span><span class="op">(</span><span class="va">lipsum</span>, min_chars <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>  x1 <span class="op">=</span> <span class="fu">char</span><span class="op">(</span><span class="va">lipsum</span>, min_chars <span class="op">=</span> <span class="fl">10</span>, shorten <span class="op">=</span> <span class="st">'back'</span><span class="op">)</span>,</span>
<span>  x2 <span class="op">=</span> <span class="fu">char</span><span class="op">(</span><span class="va">lipsum</span>, min_chars <span class="op">=</span> <span class="fl">10</span>, shorten <span class="op">=</span> <span class="st">'front'</span><span class="op">)</span>,</span>
<span>  x3 <span class="op">=</span> <span class="fu">char</span><span class="op">(</span><span class="va">lipsum</span>, min_chars <span class="op">=</span> <span class="fl">10</span>, shorten <span class="op">=</span> <span class="st">'mid'</span><span class="op">)</span>,</span>
<span>  x4 <span class="op">=</span> <span class="fu">char</span><span class="op">(</span><span class="va">lipsum</span>, min_chars <span class="op">=</span> <span class="fl">10</span>, shorten <span class="op">=</span> <span class="st">'abbreviate'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 6
   x                      x0         x1         x2         x3         x4        
   &lt;char&gt;                 &lt;char&gt;     &lt;char&gt;     &lt;char&gt;     &lt;char&gt;     &lt;char&gt;    
 1 Lorem ipsum dolor sit… Lorem ips… Lorem ips… … integer. Lore…eger. Lidsapsps…
 2 Nec proin volutpat.    Nec proin… Nec proin… …volutpat. Nec …tpat. Ncprvltpt.
 3 Elementum non nisi se… Elementum… Elementum… …c sed ac. Elem…d ac. Ennselvfn…
 4 Mollis justo ut sed a… Mollis ju… Mollis ju… …habitant. Moll…tant. Mjusanahb.
 5 Ultricies felis adipi… Ultricies… Ultricies… … a at ex. Ultr…t ex. Ufadp,aae.
 6 Orci neque sagittis c… Orci nequ… Orci nequ… …d sapien. Orci…pien. Onscv,apss
 7 Torquent quis malesua… Torquent … Torquent … … quis ac. Torq…s ac. Tqmanaqac.
 8 Bibendum in in vitae.  Bibendum … Bibendum … …in vitae. Bibe…itae. Bbndmiivt.
 9 Erat eget et nisi, no… Erat eget… Erat eget… …e, etiam. Erat…tiam. Eeen,ncv,e
10 Eu eleifend tellus to… Eu eleife… Eu eleife… …m libero. Eu e…bero. Eettpammbl
11 Et etiam feugiat cum … Et etiam … Et etiam … … cum est. Et e… est. Etetfcest.
12 Sem auctor augue moll… Sem aucto… Sem aucto… …e mollis. Sem …llis. Smacamlls.</code></pre>
</div>
</div>
</section><section id="lst" class="level3"><h3 class="anchored" data-anchor-id="lst">lst</h3>
<p><strong>Определение</strong></p>
<p>Создает список с последовательным определением компонентов и автоматической генерацией отсутствующих имен. При определении компонента можно ссылаться на компоненты, созданные ранее в вызове</p>
<p><strong>Использование</strong></p>
<p><code>lst(...)</code></p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  <span class="fu">lst</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, z <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
  `lst(1:3, z = letters[4:6], runif(3))`
  &lt;named list&gt;                          
1 &lt;int [3]&gt;                             
2 &lt;chr [3]&gt;                             
3 &lt;dbl [3]&gt;                             </code></pre>
</div>
</div>
</section><section id="enframe" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="enframe">enframe</h3>
<p><strong>Определение</strong></p>
<p>преобразует именованные атомарные векторы или списки в фреймы данных с одним или двумя столбцами. Для списка результатом будет вложенный tibble со столбцом типа list. Для безымянных векторов в качестве столбца name используется естественная последовательность.</p>
<p><strong>Атрибуты метода:</strong></p>
<ul>
<li>
<code>x</code> - вектор</li>
<li>
<code>name</code>, <code>value</code> - имена столбцов, в которых хранятся имена и значения</li>
</ul>
<p><strong>Использование</strong></p>
<p><code>enframe(x, name = "name", value = "value")</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">enframe</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
   name value
  &lt;int&gt; &lt;int&gt;
1     1     1
2     2     2
3     3     3</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">enframe</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">5</span>, b <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  name  value
  &lt;chr&gt; &lt;dbl&gt;
1 a         5
2 b         7</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">enframe</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>one <span class="op">=</span> <span class="fl">1</span>, two <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, three <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  value    
  &lt;chr&gt; &lt;list&gt;   
1 one   &lt;dbl [1]&gt;
2 two   &lt;int [2]&gt;
3 three &lt;int [3]&gt;</code></pre>
</div>
</div>
</div>
</div>
</section><section id="deframe" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="deframe">deframe</h3>
<p><strong>Определение</strong></p>
<p>преобразует фреймы данных из двух столбцов в именованный вектор или список, используя первый столбец в качестве имени, а второй - в качестве значения. Если входные данные содержат только один столбец, возвращается безымянный вектор.</p>
<p><strong>Атрибуты метода:</strong></p>
<ul>
<li>
<code>x</code> - фрейм данных с одним или двумя столбцами</li>
</ul>
<p><strong>Использование</strong></p>
<p><code>deframe(x)</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">deframe</span><span class="op">(</span><span class="fu">enframe</span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 2 3 
3 2 1 </code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">deframe</span><span class="op">(</span><span class="fu">tibble</span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">deframe</span><span class="op">(</span><span class="fu">tibble</span><span class="op">(</span>a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] 3</code></pre>
</div>
</div>
</div>
</div>
</section></section><section id="проверки" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="проверки">Проверки</h2>
<section id="is_tibble" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="is_tibble">is_tibble</h3>
<p><strong>Определение</strong></p>
<p>Проверяет относится ли объект к tibbles или его подклассу</p>
<p><strong>Использование</strong></p>
<p><code>is_tibble(x)</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu">is_tibble</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu">is_tibble</span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
</div>
</section><section id="validate_tibble" class="level3"><h3 class="anchored" data-anchor-id="validate_tibble">validate_tibble</h3>
<p><strong>Определение</strong></p>
<p>Выполняет проверки требований к Tibble, таких как:</p>
<ul>
<li><p>длину столбцов и соответствие vectors::vec_size() данным</p></li>
<li><p>столбцы являютс векторами\фреймами или матрицами</p></li>
<li><p>наличие “минимальных” имен</p></li>
</ul>
<p><strong>Использование</strong></p>
<p><code>validate_tibble(x)</code></p>
<div class="cell">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html">try</a></span><span class="op">(</span><span class="fu">validate_tibble</span><span class="op">(</span><span class="fu">new_tibble</span><span class="op">(</span><span class="va">trees</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Error : Tibble columns must have compatible sizes.
• Size 3: Requested with `nrow` argument.
• Size 31: Columns `Girth`, `Height`, and `Volume`.
ℹ Only values of size one are recycled.</code></pre>
</div>
</div>
</section></section><section id="манипуляция-данными" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="манипуляция-данными">Манипуляция данными</h2>
<section id="add_row" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="add_row">add_row</h3>
<p><strong>Определение</strong></p>
<p>Добавляет новую строку во фрейм данных</p>
<p><strong>Атрибуты метода:</strong></p>
<p><code>.before, .after</code> - индекс строки куда нужно добавить новую строку, по умолчанию добавляет в конец</p>
<p><strong>Использование</strong></p>
<p><code>add_row(.data, ..., .before = NULL, .after = NULL)</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, y <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">df</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
      x     y
  &lt;int&gt; &lt;int&gt;
1     1     3
2     2     2
3     3     1</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_row</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">4</span>, y <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
      x     y
  &lt;dbl&gt; &lt;dbl&gt;
1     1     3
2     2     2
3     3     1
4     4     0</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_row</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">4</span>, y <span class="op">=</span> <span class="fl">0</span>, .before <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
      x     y
  &lt;dbl&gt; &lt;dbl&gt;
1     1     3
2     4     0
3     2     2
4     3     1</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_row</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">5</span>, y <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
      x     y
  &lt;int&gt; &lt;int&gt;
1     1     3
2     2     2
3     3     1
4     4     0
5     5    -1</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_row</span><span class="op">(</span><span class="fu">tibble_row</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">4</span>, y <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
      x     y
  &lt;dbl&gt; &lt;dbl&gt;
1     1     3
2     2     2
3     3     1
4     4     0</code></pre>
</div>
</div>
</div>
</div>
</section><section id="add_column" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="add_column">add_column</h3>
<p><strong>Определение</strong></p>
<p>Добавляет один или несколько столбцов во фрейм данных</p>
<p><strong>Атрибуты метода:</strong></p>
<ul>
<li>
<code>.before, .after</code> - индекс или имя столбца докоторого нужно добавлять новый столбец</li>
<li>
<code>.name_repair</code> - проверка имен столбцов, типы проверок аналогичны используемым при создании tibble</li>
</ul>
<p><strong>Использование</strong></p>
<p><code>add_column(.data,...,.before = NULL,.after = NULL,.name_repair = c("check_unique", "unique", "universal", "minimal"))</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, y <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">df</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
      x     y
  &lt;int&gt; &lt;int&gt;
1     1     3
2     2     2
3     3     1</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_column</span><span class="op">(</span>z <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">1</span>, w <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
      x     y     z     w
  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
1     1     3    -1     0
2     2     2     0     0
3     3     1     1     0</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_column</span><span class="op">(</span>z <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">1</span>, .before <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
      x     z     y
  &lt;int&gt; &lt;int&gt; &lt;int&gt;
1     1    -1     3
2     2     0     2
3     3     1     1</code></pre>
</div>
</div>
</div>
</div>
</section></section><section id="приведение-типов" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="приведение-типов">Приведение типов</h2>
<section id="as_tibble" class="level3"><h3 class="anchored" data-anchor-id="as_tibble">as_tibble</h3>
<p><strong>Определение</strong></p>
<p>Приводит фрейм данных или матрицу к объекту tibble с классом tbl_df</p>
<p><strong>Использование</strong></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>(</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  ...,</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">.rows =</span> <span class="cn">NULL</span>,</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">.name_repair =</span> <span class="fu">c</span>(<span class="st">"check_unique"</span>, <span class="st">"unique"</span>, <span class="st">"universal"</span>, <span class="st">"minimal"</span>),</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> pkgconfig<span class="sc">::</span><span class="fu">get_config</span>(<span class="st">"tibble::rownames"</span>, <span class="cn">NULL</span>)</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">as_tibble</span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="va">df</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
        a       b      c       d      e
    &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
 1 -0.531 -1.02    0.490  0.160   0.338
 2  0.718 -0.604   0.120 -1.64    0.544
 3 -1.46   0.626   0.813 -0.811  -0.409
 4 -0.449 -1.36    1.48   1.59   -0.186
 5  0.262  0.473   1.28   0.508   1.13 
 6 -1.27   0.898   0.918 -0.714   0.466
 7 -0.826 -0.263  -1.02   0.503   1.07 
 8 -0.508 -0.0754  0.249  0.926  -0.929
 9 -1.23   1.12   -1.07   2.74    1.47 
10  0.575  0.901   2.14  -0.0107 -1.46 </code></pre>
</div>
</div>
</section><section id="as_tibble_row" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="as_tibble_row">as_tibble_row</h3>
<p><strong>Определение</strong></p>
<p>Преобразует вектор в tibble с одной строкой. Если ввод представляет собой список, все элементы должны иметь один размер</p>
<p><strong>Использование</strong>`</p>
<p><code>as_tibble_row(x, .name_repair = c("check_unique", "unique", "universal", "minimal"))</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">as_tibble_row</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
      a     b
  &lt;dbl&gt; &lt;dbl&gt;
1     1     2</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">as_tibble_row</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>c <span class="op">=</span> <span class="st">"three"</span>, d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">4</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  c     d        
  &lt;chr&gt; &lt;list&gt;   
1 three &lt;int [2]&gt;</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">as_tibble_row</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, .name_repair <span class="op">=</span> <span class="st">"unique"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`
• `` -&gt; `...2`
• `` -&gt; `...3`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
   ...1  ...2  ...3
  &lt;int&gt; &lt;int&gt; &lt;int&gt;
1     1     2     3</code></pre>
</div>
</div>
</div>
</div>
</section><section id="as_tibble_col" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="as_tibble_col">as_tibble_col</h3>
<p><strong>Определение</strong></p>
<p>Преобразует вектор в tibble с одним столбцом</p>
<p><strong>Использование</strong></p>
<p><code>as_tibble_col(x, column_name = "value")</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">as_tibble_col</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
  value
  &lt;int&gt;
1     1
2     2
3     3</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">as_tibble_col</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>c <span class="op">=</span> <span class="st">"three"</span>, d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">4</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  column_name <span class="op">=</span> <span class="st">"data"</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
  data        
  &lt;named list&gt;
1 &lt;chr [1]&gt;   
2 &lt;list [1]&gt;  </code></pre>
</div>
</div>
</div>
</div>
</section></section><section id="обработка-имен-строк" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="обработка-имен-строк">Обработка имен строк</h2>
<p>Рассмотрим обработку имен строк на примере фрейма данных <strong>mtcars</strong></p>
<div class="cell">
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mtcars</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
 2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
 3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
 4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
 6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
 7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
 8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
 9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
# … with 22 more rows</code></pre>
</div>
</div>
<section id="has_rownames" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="has_rownames">has_rownames</h3>
<p><strong>Определение</strong></p>
<p>Проверяет есть ли во фрейме имена строк</p>
<p><strong>Использование</strong></p>
<p><code>has_rownames(.data)</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">has_rownames</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">has_rownames</span><span class="op">(</span><span class="va">trees</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
</div>
</section><section id="remove_rownames" class="level3"><h3 class="anchored" data-anchor-id="remove_rownames">remove_rownames</h3>
<p><strong>Определение</strong></p>
<p>Удаляет имена строк из фрейма данных</p>
<p><strong>Использование</strong></p>
<p><code>remove_rownames(.data)</code></p>
<div class="cell">
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">remove_rownames</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">has_rownames</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section><section id="rownames_to_column" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="rownames_to_column">rownames_to_column</h3>
<p><strong>Определение</strong></p>
<p>Преобразует имена строк в столбец</p>
<p><strong>Использование</strong></p>
<p><code>rownames_to_column(.data, var = "rowname")</code></p>
<div class="column-screen-inset-left quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mtcars</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
 2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
 3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
 4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
 6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
 7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
 8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
 9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
# … with 22 more rows</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mtcars_tbl</span> <span class="op">&lt;-</span> <span class="fu">rownames_to_column</span><span class="op">(</span><span class="va">mtcars</span>, var <span class="op">=</span> <span class="st">"car"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mtcars_tbl</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 12
   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4
 2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4
 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
 4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
 5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2
 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
# … with 22 more rows</code></pre>
</div>
</div>
</div>
</div>
</section><section id="column_to_rownames" class="level3"><h3 class="anchored" data-anchor-id="column_to_rownames">column_to_rownames</h3>
<p><strong>Определение</strong></p>
<p>Преобразует столбец в имена строк</p>
<p><strong>Использование</strong></p>
<p><code>column_to_rownames(.data, var = "rowname")</code></p>
<div class="cell">
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">column_to_rownames</span><span class="op">(</span><span class="va">mtcars_tbl</span>, var <span class="op">=</span> <span class="st">"car"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 11
    mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  21       6   160   110  3.9   2.62  16.5     0     1     4     4
2  21       6   160   110  3.9   2.88  17.0     0     1     4     4
3  22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
4  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1
5  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2
6  18.1     6   225   105  2.76  3.46  20.2     1     0     3     1</code></pre>
</div>
</div>
</section><section id="rowid_to_column" class="level3"><h3 class="anchored" data-anchor-id="rowid_to_column">rowid_to_column</h3>
<p><strong>Определение</strong></p>
<p>Добавляет столбец с идентификатором и удаляет все имена строк</p>
<p><strong>Использование</strong></p>
<p><code>rowid_to_column(.data, var = "rowid")</code></p>
<div class="cell">
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">rowid_to_column</span><span class="op">(</span><span class="va">trees</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  rowid Girth Height Volume
  &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1     1   8.3     70   10.3
2     2   8.6     65   10.3
3     3   8.8     63   10.2
4     4  10.5     72   16.4
5     5  10.7     81   18.8
6     6  10.8     83   19.7</code></pre>
</div>
</div>
</section></section><section id="производительность" class="level2"><h2 class="anchored" data-anchor-id="производительность">Производительность</h2>
<p>Выполним простой тест производительности объекта tibble и data.frame</p>
<div class="cell">
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># пакет для замера производительности</span></span>
<span><span class="co">#| column-page-inset-left</span></span>
<span></span>
<span><span class="va">l</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span><span class="op">(</span><span class="fl">26</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">l</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">letters</span></span>
<span></span>
<span><span class="va">timing</span> <span class="op">&lt;-</span> <span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html">mark</a></span><span class="op">(</span></span>
<span>  <span class="fu">as_tibble</span><span class="op">(</span><span class="va">l</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">l</span><span class="op">)</span>,</span>
<span>  <span class="fu">tibble</span><span class="op">(</span><span class="va">l</span><span class="op">)</span>,</span>
<span>  <span class="fu">new_tibble</span><span class="op">(</span><span class="va">l</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">timing</span> <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 13
  expression            min  median itr/s…¹ mem_al…² gc/se…³ n_itr  n_gc total…⁴
  &lt;bch:expr&gt;       &lt;bch:tm&gt; &lt;bch:t&gt;   &lt;dbl&gt; &lt;bch:by&gt;   &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;bch:t&gt;
1 as_tibble(l)      143.2µs   152µs   6146.    7.6KB   16.9   2904     8   472ms
2 as.data.frame(l)  761.4µs   819µs   1176.  31.51KB   15.2    541     7   460ms
3 tibble(l)           267µs   349µs   2090.   1.63KB    8.36  1000     4   478ms
4 new_tibble(l)       7.3µs     9µs  82156.     256B   16.4   9998     2   122ms
# … with 4 more variables: result &lt;list&gt;, memory &lt;list&gt;, time &lt;list&gt;,
#   gc &lt;list&gt;, and abbreviated variable names ¹​`itr/sec`, ²​mem_alloc,
#   ³​`gc/sec`, ⁴​total_time</code></pre>
</div>
</div>
<p>Расшифровка результатов:</p>
<ul>
<li>
<code>expression</code> - анализируемое выражение</li>
<li>
<code>min</code> - минимальное время выполнения</li>
<li>
<code>median</code> - медиана времени выполнения</li>
<li>
<code>itr/sec</code> - расчетное количество выполнений в секунду</li>
<li>
<code>mem_alloc</code> - общий объем памяти, выделенный R при выполнении выражения</li>
<li>
<code>gc/sec</code> - количество сборок мусора в секунду</li>
<li>
<code>n_itr</code> - общее количество итераций после фильтрации сборок мусора</li>
<li>
<code>n_gc</code> - общее количество сборок мусора, выполненных за все итерации</li>
<li>
<code>total_time</code> - общее время выполнения тестов</li>
<li>
<code>result</code> - список объектов, возвращенных оцениваемым выражением</li>
<li>
<code>memory</code> - список с результатами Rprofmem()</li>
<li>
<code>time</code> - список векторов Bench_time для каждого оцениваемого выражения</li>
<li>
<code>gc</code> - список с таблицами, содержащими уровень сборки мусора (0-2, столбцы) для каждой итерации (строки).</li>
</ul></section><section id="поддерживаемые-типы-данных" class="level2"><h2 class="anchored" data-anchor-id="поддерживаемые-типы-данных">Поддерживаемые типы данных</h2>
<table class="table">
<colgroup>
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 27%">
<col style="width: 24%">
</colgroup>
<thead><tr class="header">
<th>Class</th>
<th>Data type</th>
<th>Example</th>
<th>Column header</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Atomic</td>
<td>logical</td>
<td>TRUE</td>
<td>lgl</td>
</tr>
<tr class="even">
<td>-</td>
<td>integer</td>
<td>1L</td>
<td>int</td>
</tr>
<tr class="odd">
<td>-</td>
<td>double</td>
<td>1.5</td>
<td>dbl</td>
</tr>
<tr class="even">
<td>-</td>
<td>character</td>
<td>“A”</td>
<td>chr</td>
</tr>
<tr class="odd">
<td>-</td>
<td>complex</td>
<td>0+1i</td>
<td>cpl</td>
</tr>
<tr class="even">
<td>-</td>
<td>raw</td>
<td>as.raw(1)</td>
<td>raw</td>
</tr>
<tr class="odd">
<td>-</td>
<td>list</td>
<td>list(1)</td>
<td>list</td>
</tr>
<tr class="even">
<td>-</td>
<td>named list</td>
<td>list(a = 1)</td>
<td>named list</td>
</tr>
<tr class="odd">
<td>Built-in objects</td>
<td>factor</td>
<td>factor(“A”)</td>
<td>fct</td>
</tr>
<tr class="even">
<td>-</td>
<td>ordered</td>
<td>ordered(“a”)</td>
<td>ord</td>
</tr>
<tr class="odd">
<td>-</td>
<td>Date</td>
<td>Sys.Date()</td>
<td>date</td>
</tr>
<tr class="even">
<td>-</td>
<td>POSIXt</td>
<td>Sys.time()</td>
<td>dttm</td>
</tr>
<tr class="odd">
<td>-</td>
<td>difftime</td>
<td>vctrs::new_duration(1)</td>
<td>drtn</td>
</tr>
<tr class="even">
<td>Objects from other packages</td>
<td>hms</td>
<td>hms::hms(1)</td>
<td>time</td>
</tr>
<tr class="odd">
<td>-</td>
<td>integer64</td>
<td>bit64::as.integer64(1e+10)</td>
<td>int64</td>
</tr>
<tr class="even">
<td>-</td>
<td>blob</td>
<td>blob::blob(raw(1))</td>
<td>blob</td>
</tr>
<tr class="odd">
<td>Data frames</td>
<td>data.frame</td>
<td>data.frame(a = 1)</td>
<td>df[,1]</td>
</tr>
<tr class="even">
<td>-</td>
<td>tbl_df</td>
<td>tibble(a = 1)</td>
<td>tibble[,1]</td>
</tr>
<tr class="odd">
<td>Unchanged</td>
<td>AsIs</td>
<td>I(1L)</td>
<td>I</td>
</tr>
<tr class="even">
<td>vctrs types</td>
<td>unspecified</td>
<td>vctrs::unspecified(1)</td>
<td>???</td>
</tr>
<tr class="odd">
<td>-</td>
<td>vctrs_list_of</td>
<td>vctrs::list_of(c(1L))</td>
<td>list</td>
</tr>
<tr class="even">
<td>-</td>
<td>vctrs_vctr</td>
<td>vctrs::new_vctr(1L)</td>
<td>vctrs_vc</td>
</tr>
<tr class="odd">
<td>-</td>
<td>vctrs_partial_factor</td>
<td>vctrs::partial_factor(letters)</td>
<td>prtl_fctr</td>
</tr>
<tr class="even">
<td>-</td>
<td>vctrs_partial_frame</td>
<td>vctrs::partial_frame(a = 1)</td>
<td>prtl</td>
</tr>
<tr class="odd">
<td>Language objects</td>
<td>function</td>
<td>function() NULL</td>
<td>fn</td>
</tr>
<tr class="even">
<td>-</td>
<td>symbol</td>
<td>quote(a)</td>
<td>sym</td>
</tr>
<tr class="odd">
<td>-</td>
<td>expression</td>
<td>parse(text = “a &lt;- 1&lt;- 2”)</td>
<td>expression</td>
</tr>
<tr class="even">
<td>-</td>
<td>quosures</td>
<td>rlang::quos(a = 1)</td>
<td>quos</td>
</tr>
</tbody>
</table>


</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{practicesit2023,
  author = {Best Practices IT},
  title = {Tibble},
  date = {2023-02-09},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-practicesit2023" class="csl-entry quarto-appendix-citeas" role="doc-biblioentry">
Best Practices IT. 2023. <span>“Tibble.”</span> February 9, 2023.
</div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../../r_language/r_language_page.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">R language</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../r_language/Tidyverse/dplyr_tidyverse.html" class="pagination-link">
        <span class="nav-page-text">Dplyr</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022-2023, Best Practices IT</div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Azveg">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://t.me/best_practices_it">
      <i class="bi bi-telegram" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>